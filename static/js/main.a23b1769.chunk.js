(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,a){},196:function(e,t,a){e.exports=a.p+"static/media/catalog.2bf27d76.csv"},197:function(e,t,a){e.exports=a.p+"static/media/solar.6136b11a.csv"},198:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(23),i=a.n(l),c=(a(87),a(35)),s=a(11),o=a(12),u=a(14),d=a(13),m=a(15),h=a(44),p=a.n(h),f=a(81),v=a(69),g=a.n(v),E=a(71),b=a.n(E),w=a(73),y=a.n(w),k=a(72),x=a.n(k),S=a(74),j=a.n(S),C=a(33),F=a.n(C),O=a(34),M=a.n(O),_=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rFactor,a=e.vFactor,n=e.showScale,l=e.rFactorListener,i=e.vFactorListener,c=e.showScaleListener;return r.a.createElement(g.a,{className:"control-panel overlay"},r.a.createElement(b.a,{className:"control-title",expandIcon:r.a.createElement(x.a,null)},"Settings"),r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(F.a,null,r.a.createElement(M.a,{primary:"radius"}),r.a.createElement("input",{type:"range",min:"5",max:"100",step:"5",value:t,onChange:function(e){return l(e.target.value)}})),r.a.createElement(F.a,null,r.a.createElement(M.a,{primary:"speed"}),r.a.createElement("input",{type:"range",min:"-6",max:"3",step:"1",value:a,onChange:function(e){return i(e.target.value)}})),r.a.createElement(F.a,null,r.a.createElement(M.a,{primary:"show scale"}),r.a.createElement("input",{type:"checkbox",checked:n,onChange:c})))))}}]),t}(r.a.Component),L=a(75),A=a.n(L),N=a(76),z=a.n(N),H=a(78),R=a.n(H),I=a(24),V=a.n(I),D=a(32),P=a.n(D),T=a(77),J=a.n(T),U=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"generateLink",value:function(e){var t=e.replace(/ /g,"_");return"http://exoplanet.eu/catalog/".concat(t,"/")}},{key:"render",value:function(){var e=this.props.info;return r.a.createElement(A.a,{className:"info-card overlay"},r.a.createElement(z.a,{action:r.a.createElement("div",null,r.a.createElement(V.a,{onClick:this.props.closeListener},r.a.createElement(P.a,null)),r.a.createElement("br",null),r.a.createElement(V.a,{className:"info-card-link",size:"large",href:this.generateLink(e.name),target:"_blank"},r.a.createElement(J.a,null))),title:e.name}),r.a.createElement(R.a,null,r.a.createElement("div",null,"mass: ",r.a.createElement("strong",null,e.mass||"?"," M",r.a.createElement("sub",null,"J"))),r.a.createElement("div",null,"radius: ",r.a.createElement("strong",null,e.radi||"?"," M",r.a.createElement("sub",null,"J"))),r.a.createElement("div",null,"orbital period: ",r.a.createElement("strong",null,e.perd," days")),r.a.createElement("div",null,"semi-major axis: ",r.a.createElement("strong",null,e.dist," AU")),r.a.createElement("div",null,"eccentricity (not shown): ",r.a.createElement("strong",null,e.ecct)),r.a.createElement("div",null,"host star: ",r.a.createElement("strong",null,e.star)),r.a.createElement("div",null,"detection method: ",r.a.createElement("strong",null,e.type||"-")),r.a.createElement("div",null,"year of discovery: ",r.a.createElement("strong",null,e.year||"-"))))}}]),t}(r.a.Component),W=a(9),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).planets=[],a.view=r.a.createRef(),a.zoomlevel=1,a.state={showScale:!0,selection:null,rFactor:10,vFactor:-2},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.data.length<this.props.data.length&&(this.makePlanets(),this.makeView())}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.makeView()})}},{key:"componentWillUnmount",value:function(){var e=this;clearInterval(this.interval),window.removeEventListener("resize",function(){return e.makeView()})}},{key:"makePlanets",value:function(){this.planets=this.props.data.map(function(e){return Object(f.a)({},e,{i:e.indx,_R:e.dist,_r:e.radi||Math.pow(e.mass,.32143),v:1/e.perd,hidden:!e.selected})})}},{key:"makeView",value:function(){var e=this;clearInterval(this.interval);var t=(new Date).setHours(0,0,0,0),a=window.innerWidth-300,n=window.innerHeight,r=this.planets,l=W.c().domain([0,1]).range([0,a/2-60]),i=W.c().domain([0,r.reduce(function(e,t){return Math.max(e,t._r)},0)]).range([0,1]);r.forEach(function(e){e.R=l(e._R),e.r=i(e._r)});var c=W.d(this.view.current).attr("width",a).attr("height",n);c.selectAll("*").remove(),c.append("circle").attr("r",1).attr("cx",a/2).attr("cy",n/2).attr("id","sun");var s=c.append("g").attr("transform","translate(".concat(a/2,",").concat(n/2,")")),o=function(e,t){W.d("#o".concat(e.i)).classed("hover",t),W.d("#p".concat(e.i)).classed("hover",t)},u=function(t){e.clearSelected(),e.setState({selection:t}),W.d("#o".concat(t.i)).classed("selected",!0),W.d("#p".concat(t.i)).classed("selected",!0)};s.selectAll(".orbit").data(r).enter().append("circle").attr("id",function(e){return"o".concat(e.i)}).attr("class","orbit").on("mouseover",function(e){return o(e,!0)}).on("mouseout",function(e){return o(e,!1)}).on("click",function(e){return u(e)}),s.selectAll(".planet_cluster").data(r).enter().append("g").attr("class","planet_cluster").append("circle").attr("id",function(e){return"p".concat(e.i)}).attr("class","planet").on("mouseover",function(e){return o(e,!0)}).on("mouseout",function(e){return o(e,!1)}).on("click",function(e){return u(e)});var d=c.append("g").attr("transform","translate(".concat(a/2,",").concat(n-65,")")).attr("class","dist-axis");d.append("text").attr("text-anchor","middle").attr("transform","translate(".concat(a/4-25,",",35,")")).text("AU"),d.append("g").attr("class","dist-axis-core"),this.updateView(l),c.call(W.f().on("zoom",function(){e.zoomlevel=W.b.transform.k,e.updateView(l)})),this.interval=setInterval(function(){c.selectAll(".planet_cluster").attr("transform",function(a){var n=a.v*Math.pow(2,e.state.vFactor);return"rotate(".concat((Date.now()-t)*n,")")})},100)}},{key:"updateView",value:function(e){var t=this,a=W.d(this.view.current);if(a.selectAll(".orbit").classed("hidden",function(e){return e.hidden}).classed("selected",function(e){return e===t.state.selection}).attr("r",function(e){return e.R*t.zoomlevel}),a.selectAll(".planet_cluster").classed("hidden",function(e){return e.hidden}).selectAll("circle").classed("selected",function(e){return e===t.state.selection}).attr("cx",function(e){return e.R*t.zoomlevel}).attr("r",function(e){return e.r*t.state.rFactor}),a.select(".dist-axis").classed("hidden",!this.state.showScale),e){var n=[0,e.domain()[1]/this.zoomlevel],r=W.a(e.copy().domain(n)).ticks(5);a.select(".dist-axis-core").call(r)}}},{key:"clearSelected",value:function(){W.e(".orbit.selected").classed("selected",!1),W.e(".planet.selected").classed("selected",!1),this.setState({selection:null})}},{key:"handleRadiusFactorChange",value:function(e){this.setState({rFactor:e})}},{key:"handleVelocityFactorChange",value:function(e){this.setState({vFactor:e})}},{key:"toggleShowScale",value:function(){this.setState({showScale:!this.state.showScale})}},{key:"render",value:function(){var e=this;this.planets.forEach(function(t){t.hidden=!e.props.data[t.i].selected}),this.updateView();var t=this.state,a=t.selection,n=t.rFactor,l=t.vFactor,i=t.showScale,c=this.props.data.reduce(function(e,t){return e+(t.selected?1:0)},0);return r.a.createElement("div",{className:"View"},r.a.createElement("svg",{ref:this.view}),a&&!a.hidden&&r.a.createElement(U,{info:a,closeListener:function(){return e.clearSelected()}}),r.a.createElement(_,{rFactor:n,vFactor:l,showScale:i,rFactorListener:function(t){return e.handleRadiusFactorChange(t)},vFactorListener:function(t){return e.handleVelocityFactorChange(t)},showScaleListener:function(){return e.toggleShowScale()}}),r.a.createElement("div",{className:"footer overlay"},"Showing ",c," of ",this.props.data.length," planets, last updated May 2019. Planetary radii not to scale. Created by",r.a.createElement("a",{href:"https://github.com/kuan9611",target:"_blank",rel:"noopener noreferrer"},"kuan9611"),"and powered by",r.a.createElement("a",{href:"http://exoplanet.eu/",target:"_blank",rel:"noopener noreferrer"},"The Extrasolar Planets Encyclopaedia")))}}]),t}(n.Component),Y=a(79),$=a(80),q=(a(193),a(194),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).FilterInputMinMax=function(e){var t=e.filter,a=e.onChange,n=t?t.value.min:"",l=t?t.value.max:"";return r.a.createElement("div",null,r.a.createElement("input",{type:"number",placeholder:"min",value:n,onChange:function(e){return a({min:e.target.value,max:l})},style:{width:"50%"}}),r.a.createElement("input",{type:"number",placeholder:"max",value:l,onChange:function(e){return a({min:n,max:e.target.value})},style:{width:"50%"}}))},a.table=r.a.createRef(),a.state={selectAll:!0,filters:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleSelectAll",value:function(){var e=!this.state.selectAll;if(this.table.current){var t=this.table.current.getResolvedState().sortedData;this.props.selectionChangeListener({selected:e,selections:t.map(function(e){return e._original.indx})}),this.setState({selectAll:e})}}},{key:"render",value:function(){var e=this,t=function(e,t){var a=t[e.pivotId||e.id],n=Number(e.value.min)||0,r=Number(e.value.max)||1/0;return!e.value.min&&!e.value.max||a&&a>=n&&a<=r},a=[{accessor:"selected",Header:r.a.createElement("input",{type:"checkbox",className:"checkbox",checked:this.state.selectAll,onChange:function(){return e.toggleSelectAll()}}),Filter:r.a.createElement(V.a,{className:"clear-filter",title:"Clear all filters",onClick:function(){return e.setState({filters:[]})}},r.a.createElement(P.a,{fontSize:"small"})),Cell:function(t){var a=t.original;return r.a.createElement("input",{readOnly:!0,type:"checkbox",className:"checkbox",checked:e.props.data[a.indx].selected})},sortable:!1,width:30},{accessor:"name",Header:"Planet Name",width:150},{accessor:"star",Header:"Host Star",width:150},{accessor:"mass",Header:r.a.createElement("span",null,"Mass (M",r.a.createElement("sub",null,"J"),")"),Filter:this.FilterInputMinMax,filterMethod:t,width:120},{accessor:"radi",Header:r.a.createElement("span",null,"Radius (R",r.a.createElement("sub",null,"J"),")"),Filter:this.FilterInputMinMax,filterMethod:t,width:120},{accessor:"perd",Header:"Orb. Period (days)",Filter:this.FilterInputMinMax,filterMethod:t,width:120},{accessor:"dist",Header:"S-Major Axis (AU)",Filter:this.FilterInputMinMax,filterMethod:t,width:120},{accessor:"type",Header:"Detection Type",sortable:!1,width:120},{accessor:"year",Header:"Year",width:60}],n=window.innerHeight;return r.a.createElement("div",{className:"Table"},r.a.createElement(Y.ResizableBox,{width:300,height:n,axis:"x",resizeHandles:["e"],minConstraints:[300,n],maxConstraints:[1e3,n]},r.a.createElement($.a,{ref:this.table,data:this.props.data,columns:a,showPageSizeOptions:!1,resizable:!1,filterable:!0,filtered:this.state.filters,onFilteredChange:function(t){return e.setState({filters:t})},defaultFilterMethod:function(e,t){var a=t[e.pivotId||e.id],n=e.value.trim().toLowerCase();return void 0===a||String(a).toLowerCase().includes(n)},getTrProps:function(t,a){return a&&a.original?{onClick:function(){return e.props.selectionChangeListener({selected:!a.original.selected,selections:[a.original.indx]})},style:{background:a.original.selected?"#eee":"#fff"}}:{}},pageText:"",noDataText:"No results found"})))}}]),t}(n.Component)),G=(a(195),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;p.a.parse(a(196),{header:!0,download:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:function(t){return e.updateData(t.data)}}),p.a.parse(a(197),{header:!0,download:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:function(t){return e.updateData(t.data)}})}},{key:"updateData",value:function(e){var t=this.state.data.length,a=e.filter(function(e){return"Confirmed"===e.planet_status&&e.orbital_period&&e.semi_major_axis&&e.star_name}).map(function(e,a){return{indx:a+t,name:e["# name"].trim(),mass:e.mass,radi:e.radius,perd:e.orbital_period,dist:e.semi_major_axis,ecct:e.eccentricity,type:e.detection_type,year:e.discovered,star:e.star_name.trim(),selected:!0}});this.setState({data:[].concat(Object(c.a)(this.state.data),Object(c.a)(a))})}},{key:"handleSelectionChange",value:function(e){var t=Object(c.a)(this.state.data);e.selections.forEach(function(a){t[a].selected=e.selected}),this.setState({data:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(B,{data:this.state.data}),r.a.createElement(q,{data:this.state.data,selectionChangeListener:function(t){return e.handleSelectionChange(t)}}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports=a(198)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.a23b1769.chunk.js.map